<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新建场次 - 淘票票管理后台</title>
    <link rel="stylesheet" href="assets/css/common.css">
    <link rel="stylesheet" href="assets/css/admin.css">
</head>
<body>
    <div class="admin-layout">
        <!-- 侧边栏 -->
        <aside class="admin-sidebar">
            <div class="admin-sidebar-header">
                <div class="admin-logo">
                    <span style="font-size: 24px;">🎫</span>
                    <span>淘票票</span>
                </div>
                <div class="text-small" style="color: rgba(255,255,255,0.5); margin-top: 4px;">管理后台</div>
            </div>

            <nav class="admin-nav">
                <a href="admin-index.html" class="admin-nav-item">
                    <span class="admin-nav-icon">📊</span>
                    <span>数据概览</span>
                </a>
                <a href="admin-events.html" class="admin-nav-item">
                    <span class="admin-nav-icon">🎭</span>
                    <span>演出管理</span>
                </a>
                <a href="admin-sessions.html" class="admin-nav-item active">
                    <span class="admin-nav-icon">📅</span>
                    <span>场次管理</span>
                </a>
                <a href="admin-seats.html" class="admin-nav-item">
                    <span class="admin-nav-icon">💺</span>
                    <span>座位管理</span>
                </a>
                <a href="admin-orders.html" class="admin-nav-item">
                    <span class="admin-nav-icon">📋</span>
                    <span>订单管理</span>
                </a>

                <div class="admin-nav-section">AI功能</div>
                <a href="admin-knowledge.html" class="admin-nav-item">
                    <span class="admin-nav-icon">📚</span>
                    <span>知识库管理</span>
                </a>
                <a href="admin-rag-config.html" class="admin-nav-item">
                    <span class="admin-nav-icon">🔍</span>
                    <span>RAG配置</span>
                </a>
                <a href="admin-templates.html" class="admin-nav-item">
                    <span class="admin-nav-icon">📢</span>
                    <span>推送模板</span>
                </a>
                <a href="admin-ai-analytics.html" class="admin-nav-item">
                    <span class="admin-nav-icon">📈</span>
                    <span>AI分析</span>
                </a>

                <div class="admin-nav-section">系统管理</div>
                <a href="admin-dashboard.html" class="admin-nav-item">
                    <span class="admin-nav-icon">📊</span>
                    <span>统计看板</span>
                </a>
                <a href="admin-config.html" class="admin-nav-item">
                    <span class="admin-nav-icon">⚙️</span>
                    <span>运营配置</span>
                </a>
                <a href="admin-logs.html" class="admin-nav-item">
                    <span class="admin-nav-icon">📝</span>
                    <span>操作日志</span>
                </a>
                <a href="admin-roles.html" class="admin-nav-item">
                    <span class="admin-nav-icon">👥</span>
                    <span>权限角色</span>
                </a>
            </nav>

            <div class="admin-sidebar-footer">
                <div class="flex" style="align-items: center; gap: 8px; margin-bottom: 8px;">
                    <div style="width: 32px; height: 32px; border-radius: 50%; background: rgba(255,255,255,0.2); display: flex; align-items: center; justify-content: center;">管</div>
                    <div style="flex: 1;">
                        <div style="font-size: 14px;">管理员</div>
                        <div class="text-small" style="opacity: 0.7;">admin@taopiaopiao.com</div>
                    </div>
                </div>
                <a href="admin-login.html" style="color: rgba(255,255,255,0.5); font-size: 13px;">退出登录</a>
            </div>
        </aside>

        <!-- 主内容区 -->
        <main class="admin-main">
            <header class="admin-header">
                <div class="admin-header-title">新建场次</div>
                <div class="admin-header-actions">
                    <a href="admin-sessions.html" class="btn btn-secondary">返回列表</a>
                </div>
            </header>

            <div class="admin-content">
                <!-- 关联演出信息卡片 -->
                <div class="card" style="margin-bottom: 24px; padding: 20px;">
                    <div class="flex-between" style="align-items: flex-start;">
                        <div style="flex: 1;">
                            <div class="text-small text-muted" style="margin-bottom: 8px;">所属演出</div>
                            <div style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">周杰伦2025嘉年华世界巡回演唱会-上海站</div>
                            <div class="text-small" style="color: #666;">
                                <span>演唱会</span>
                                <span style="margin: 0 8px; color: #ddd;">|</span>
                                <span>上海</span>
                                <span style="margin: 0 8px; color: #ddd;">|</span>
                                <span>国家体育场（鸟巢）</span>
                            </div>
                        </div>
                        <button type="button" class="btn btn-outline btn-small">更换演出</button>
                    </div>
                </div>

                <form class="admin-form">
                    <!-- 基本信息 -->
                    <div class="admin-form-section">
                        <div class="admin-form-section-title">场次基本信息</div>
                        <div class="admin-form-row">
                            <div class="form-group">
                                <label class="form-label">场次日期 <span style="color: #d32f2f;">*</span></label>
                                <input type="date" class="form-input" placeholder="请选择场次日期" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">开始时间 <span style="color: #d32f2f;">*</span></label>
                                <input type="time" class="form-input" placeholder="请选择开始时间" required>
                            </div>
                        </div>
                        <div class="admin-form-row">
                            <div class="form-group">
                                <label class="form-label">预计结束时间</label>
                                <input type="time" class="form-input" placeholder="请选择结束时间">
                            </div>
                            <div class="form-group">
                                <label class="form-label">演出时长（分钟）</label>
                                <input type="number" class="form-input" placeholder="请输入演出时长" min="1" value="120">
                            </div>
                        </div>
                        <div class="admin-form-row">
                            <div class="form-group">
                                <label class="form-label">场馆 <span style="color: #d32f2f;">*</span></label>
                                <input type="text" class="form-input" placeholder="请输入场馆名称" value="国家体育场（鸟巢）" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">场馆地址</label>
                                <input type="text" class="form-input" placeholder="请输入详细地址" value="北京市朝阳区国家体育场南路1号">
                            </div>
                        </div>
                    </div>

                    <!-- 座位设置 -->
                    <div class="admin-form-section">
                        <div class="admin-form-section-title">座位设置</div>
                        <div class="form-group">
                            <label class="form-label">座位图模板</label>
                            <div style="border: 2px dashed #ddd; border-radius: 4px; padding: 32px; text-align: center; cursor: pointer; background: #fafafa;">
                                <div style="font-size: 48px; margin-bottom: 12px;">💺</div>
                                <div style="color: #666; margin-bottom: 8px;">点击选择座位图模板</div>
                                <div class="text-small text-muted">或上传自定义座位图（支持 SVG 格式）</div>
                            </div>
                        </div>
                        <div class="admin-form-row">
                            <div class="form-group">
                                <label class="form-label">总座位数 <span style="color: #d32f2f;">*</span></label>
                                <input type="number" class="form-input" placeholder="请输入总座位数" min="1" value="8560" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">可售座位数</label>
                                <input type="number" class="form-input" placeholder="请输入可售座位数" min="1" value="8560">
                                <div class="text-small text-muted" style="margin-top: 4px;">扣除工作席位、保留席等</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">选座方式</label>
                            <div style="padding: 8px 0;">
                                <label style="margin-right: 24px; cursor: pointer;">
                                    <input type="radio" name="seat_selection" value="online" checked> 在线选座
                                </label>
                                <label style="cursor: pointer;">
                                    <input type="radio" name="seat_selection" value="auto"> 系统自动分配
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- 票档配置 -->
                    <div class="admin-form-section">
                        <div class="admin-form-section-title">票档配置</div>
                        <div class="text-small text-muted" style="margin-bottom: 16px;">
                            配置该场次的不同价格票档。票档将决定座位区域的划分和定价。
                        </div>

                        <!-- 票档列表 -->
                        <div style="border: 1px solid #eee; border-radius: 4px; overflow: hidden;">
                            <!-- 票档项 1 -->
                            <div style="padding: 16px; border-bottom: 1px solid #eee; background: #fafafa;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                                    <div style="font-weight: 600;">VIP区</div>
                                    <button type="button" class="btn btn-secondary btn-small" style="padding: 4px 12px; font-size: 12px;">删除</button>
                                </div>
                                <div class="admin-form-row">
                                    <div class="form-group">
                                        <label class="form-label">票价（元）<span style="color: #d32f2f;">*</span></label>
                                        <input type="number" class="form-input" placeholder="请输入票价" min="0" step="0.01" value="2580">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">座位数</label>
                                        <input type="number" class="form-input" placeholder="该票档座位总数" min="1" value="560">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">每人限购</label>
                                        <input type="number" class="form-input" placeholder="每单最多购买数量" min="1" value="2">
                                    </div>
                                </div>
                                <div class="admin-form-row">
                                    <div class="form-group">
                                        <label class="form-label">座位颜色标识</label>
                                        <div style="display: flex; align-items: center; gap: 12px;">
                                            <div style="width: 40px; height: 40px; border-radius: 4px; background: #d32f2f; border: 2px solid #ddd;"></div>
                                            <input type="text" class="form-input" style="flex: 1;" placeholder="如：#d32f2f" value="#d32f2f">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">票档描述</label>
                                        <input type="text" class="form-input" placeholder="如：内场前排，最佳观演位置" value="内场前排，最佳观演位置">
                                    </div>
                                </div>
                            </div>

                            <!-- 票档项 2 -->
                            <div style="padding: 16px; border-bottom: 1px solid #eee; background: white;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                                    <div style="font-weight: 600;">一等座</div>
                                    <button type="button" class="btn btn-secondary btn-small" style="padding: 4px 12px; font-size: 12px;">删除</button>
                                </div>
                                <div class="admin-form-row">
                                    <div class="form-group">
                                        <label class="form-label">票价（元）<span style="color: #d32f2f;">*</span></label>
                                        <input type="number" class="form-input" placeholder="请输入票价" min="0" step="0.01" value="1880">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">座位数</label>
                                        <input type="number" class="form-input" placeholder="该票档座位总数" min="1" value="2000">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">每人限购</label>
                                        <input type="number" class="form-input" placeholder="每单最多购买数量" min="1" value="4">
                                    </div>
                                </div>
                                <div class="admin-form-row">
                                    <div class="form-group">
                                        <label class="form-label">座位颜色标识</label>
                                        <div style="display: flex; align-items: center; gap: 12px;">
                                            <div style="width: 40px; height: 40px; border-radius: 4px; background: #f57c00; border: 2px solid #ddd;"></div>
                                            <input type="text" class="form-input" style="flex: 1;" placeholder="如：#f57c00" value="#f57c00">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">票档描述</label>
                                        <input type="text" class="form-input" placeholder="如：看台前排" value="看台前排，视野开阔">
                                    </div>
                                </div>
                            </div>

                            <!-- 票档项 3 -->
                            <div style="padding: 16px; background: #fafafa;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                                    <div style="font-weight: 600;">二等座</div>
                                    <button type="button" class="btn btn-secondary btn-small" style="padding: 4px 12px; font-size: 12px;">删除</button>
                                </div>
                                <div class="admin-form-row">
                                    <div class="form-group">
                                        <label class="form-label">票价（元）<span style="color: #d32f2f;">*</span></label>
                                        <input type="number" class="form-input" placeholder="请输入票价" min="0" step="0.01" value="1280">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">座位数</label>
                                        <input type="number" class="form-input" placeholder="该票档座位总数" min="1" value="3000">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">每人限购</label>
                                        <input type="number" class="form-input" placeholder="每单最多购买数量" min="1" value="6">
                                    </div>
                                </div>
                                <div class="admin-form-row">
                                    <div class="form-group">
                                        <label class="form-label">座位颜色标识</label>
                                        <div style="display: flex; align-items: center; gap: 12px;">
                                            <div style="width: 40px; height: 40px; border-radius: 4px; background: #1976d2; border: 2px solid #ddd;"></div>
                                            <input type="text" class="form-input" style="flex: 1;" placeholder="如：#1976d2" value="#1976d2">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">票档描述</label>
                                        <input type="text" class="form-input" placeholder="如：看台中段" value="看台中段，性价比高">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div style="margin-top: 16px;">
                            <button type="button" class="btn btn-secondary btn-small">+ 添加票档</button>
                        </div>
                    </div>

                    <!-- 销售设置 -->
                    <div class="admin-form-section">
                        <div class="admin-form-section-title">销售设置</div>
                        <div class="admin-form-row">
                            <div class="form-group">
                                <label class="form-label">开售时间 <span style="color: #d32f2f;">*</span></label>
                                <input type="datetime-local" class="form-input" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">停售时间</label>
                                <input type="datetime-local" class="form-input">
                                <div class="text-small text-muted" style="margin-top: 4px;">默认为演出开始前2小时</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">特殊购票限制</label>
                            <div style="padding: 8px 0;">
                                <label style="margin-right: 24px; cursor: pointer;">
                                    <input type="checkbox"> 实名制购票
                                </label>
                                <label style="margin-right: 24px; cursor: pointer;">
                                    <input type="checkbox"> 每人限购1张
                                </label>
                                <label style="cursor: pointer;">
                                    <input type="checkbox"> 禁止退票
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- 状态设置 -->
                    <div class="admin-form-section">
                        <div class="admin-form-section-title">状态设置</div>
                        <div class="form-group">
                            <label class="form-label">场次状态</label>
                            <div style="padding: 8px 0;">
                                <label style="margin-right: 24px; cursor: pointer;">
                                    <input type="radio" name="session_status" value="draft" checked> 草稿
                                </label>
                                <label style="margin-right: 24px; cursor: pointer;">
                                    <input type="radio" name="session_status" value="onsale"> 立即开售
                                </label>
                                <label style="cursor: pointer;">
                                    <input type="radio" name="session_status" value="scheduled"> 定时开售
                                </label>
                            </div>
                        </div>
                        <div class="admin-form-row">
                            <div class="form-group">
                                <label class="form-label">排序权重</label>
                                <input type="number" class="form-input" placeholder="数字越大排序越靠前" value="0">
                                <div class="text-small text-muted" style="margin-top: 4px;">用于在场次列表中排序显示</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">备注</label>
                                <input type="text" class="form-input" placeholder="内部备注信息">
                            </div>
                        </div>
                    </div>

                    <!-- 表单操作按钮 -->
                    <div class="admin-form-actions">
                        <button type="button" class="btn btn-secondary">保存草稿</button>
                        <button type="button" class="btn btn-secondary">预览场次页</button>
                        <button type="submit" class="btn btn-primary">发布场次</button>
                    </div>
                </form>
            </div>
        </main>
    </div>
</body>
</html>
