<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新建知识 - 淘票票管理后台</title>
    <link rel="stylesheet" href="assets/css/common.css">
    <link rel="stylesheet" href="assets/css/admin.css">
</head>
<body>
    <div class="admin-layout">
        <!-- 侧边栏 -->
        <aside class="admin-sidebar">
            <div class="admin-sidebar-header">
                <div class="admin-logo">
                    <span style="font-size: 24px;">🎫</span>
                    <span>淘票票</span>
                </div>
                <div class="text-small" style="color: rgba(255,255,255,0.5); margin-top: 4px;">管理后台</div>
            </div>

            <nav class="admin-nav">
                <a href="admin-index.html" class="admin-nav-item">
                    <span class="admin-nav-icon">📊</span>
                    <span>数据概览</span>
                </a>
                <a href="admin-events.html" class="admin-nav-item">
                    <span class="admin-nav-icon">🎭</span>
                    <span>演出管理</span>
                </a>
                <a href="admin-sessions.html" class="admin-nav-item">
                    <span class="admin-nav-icon">📅</span>
                    <span>场次管理</span>
                </a>
                <a href="admin-seats.html" class="admin-nav-item">
                    <span class="admin-nav-icon">💺</span>
                    <span>座位管理</span>
                </a>
                <a href="admin-orders.html" class="admin-nav-item">
                    <span class="admin-nav-icon">📋</span>
                    <span>订单管理</span>
                </a>

                <div class="admin-nav-section">AI功能</div>
                <a href="admin-knowledge.html" class="admin-nav-item active">
                    <span class="admin-nav-icon">📚</span>
                    <span>知识库管理</span>
                </a>
                <a href="admin-rag-config.html" class="admin-nav-item">
                    <span class="admin-nav-icon">🔍</span>
                    <span>RAG配置</span>
                </a>
                <a href="admin-templates.html" class="admin-nav-item">
                    <span class="admin-nav-icon">📢</span>
                    <span>推送模板</span>
                </a>
                <a href="admin-ai-analytics.html" class="admin-nav-item">
                    <span class="admin-nav-icon">📈</span>
                    <span>AI分析</span>
                </a>

                <div class="admin-nav-section">系统管理</div>
                <a href="admin-dashboard.html" class="admin-nav-item">
                    <span class="admin-nav-icon">📊</span>
                    <span>统计看板</span>
                </a>
                <a href="admin-config.html" class="admin-nav-item">
                    <span class="admin-nav-icon">⚙️</span>
                    <span>运营配置</span>
                </a>
                <a href="admin-logs.html" class="admin-nav-item">
                    <span class="admin-nav-icon">📝</span>
                    <span>操作日志</span>
                </a>
                <a href="admin-roles.html" class="admin-nav-item">
                    <span class="admin-nav-icon">👥</span>
                    <span>权限角色</span>
                </a>
                <a href="admin-venues.html" class="admin-nav-item">
                    <span class="admin-nav-icon">🏟️</span>
                    <span>场馆管理</span>
                </a>
            </nav>

            <div class="admin-sidebar-footer">
                <div class="flex" style="align-items: center; gap: 8px; margin-bottom: 8px;">
                    <div style="width: 32px; height: 32px; border-radius: 50%; background: rgba(255,255,255,0.2); display: flex; align-items: center; justify-content: center;">管</div>
                    <div style="flex: 1;">
                        <div style="font-size: 14px;">管理员</div>
                        <div class="text-small" style="opacity: 0.7;">admin@taopiaopiao.com</div>
                    </div>
                </div>
                <a href="#" class="logout-btn" style="color: rgba(255,255,255,0.5); font-size: 13px;">退出登录</a>
            </div>
        </aside>

        <!-- 主内容区 -->
        <main class="admin-main">
            <header class="admin-header">
                <div class="admin-header-title">新建知识</div>
                <div class="admin-header-actions">
                    <a href="admin-knowledge.html" class="btn btn-secondary">返回列表</a>
                </div>
            </header>

            <div class="admin-content">
                <form class="admin-form">
                    <!-- 基本信息 -->
                    <div class="admin-form-section">
                        <div class="admin-form-section-title">基本信息</div>
                        <div class="admin-form-row">
                            <div class="form-group">
                                <label class="form-label">知识类型 <span style="color: #d32f2f;">*</span></label>
                                <select class="form-select" required>
                                    <option value="">请选择类型</option>
                                    <option value="faq">FAQ（常见问题）</option>
                                    <option value="announcement">公告</option>
                                    <option value="rule">规则</option>
                                    <option value="event_info">演出信息</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">分类 <span style="color: #d32f2f;">*</span></label>
                                <select class="form-select" required>
                                    <option value="">请选择分类</option>
                                    <option value="purchase">购票指南</option>
                                    <option value="payment">支付问题</option>
                                    <option value="pickup">取票入场</option>
                                    <option value="refund">退换票</option>
                                    <option value="realname">实名制</option>
                                    <option value="limit">购票限制</option>
                                    <option value="other">其他</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">问题/标题 <span style="color: #d32f2f;">*</span></label>
                            <input type="text" class="form-input" placeholder="请输入问题或标题" required>
                            <div class="text-small text-muted" style="margin-top: 4px;">这是用户提问时AI会匹配的内容</div>
                        </div>
                    </div>

                    <!-- 答案内容 -->
                    <div class="admin-form-section">
                        <div class="admin-form-section-title">答案内容</div>
                        <div class="form-group">
                            <label class="form-label">简短答案 <span style="color: #d32f2f;">*</span></label>
                            <textarea class="form-textarea" placeholder="请输入简短的答案（建议100字以内）" rows="3" required></textarea>
                            <div class="text-small text-muted" style="margin-top: 4px;">用于快速回答，会在AI对话中优先展示</div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">详细说明</label>
                            <textarea class="form-textarea" placeholder="请输入详细的解答内容，可包含步骤说明、注意事项等" rows="8"></textarea>
                            <div class="text-small text-muted" style="margin-top: 4px;">用户点击"查看更多"时展示</div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">相关链接</label>
                            <div style="border: 1px solid #ddd; border-radius: 4px; padding: 12px; background: #fafafa;">
                                <div class="flex" style="gap: 8px; margin-bottom: 8px;">
                                    <input type="text" class="form-input" placeholder="链接标题" style="flex: 1;">
                                    <input type="url" class="form-input" placeholder="https://..." style="flex: 2;">
                                </div>
                                <div class="flex" style="gap: 8px;">
                                    <input type="text" class="form-input" placeholder="链接标题" style="flex: 1;">
                                    <input type="url" class="form-input" placeholder="https://..." style="flex: 2;">
                                </div>
                            </div>
                            <div class="text-small text-muted" style="margin-top: 4px;">可添加相关帮助文档、活动页面等链接</div>
                        </div>
                    </div>

                    <!-- AI配置 -->
                    <div class="admin-form-section">
                        <div class="admin-form-section-title">AI配置</div>
                        <div class="form-group">
                            <label class="form-label">关键词</label>
                            <input type="text" class="form-input" placeholder="请输入关键词，用逗号分隔">
                            <div class="text-small text-muted" style="margin-top: 4px;">帮助AI更好地识别用户意图，如：购票,买票,订票</div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">相似问题</label>
                            <textarea class="form-textarea" placeholder="请输入可能的相似问题，每行一个" rows="4"></textarea>
                            <div class="text-small text-muted" style="margin-top: 4px;">
                                示例：<br>
                                - 怎么买票？<br>
                                - 在哪里可以购票？<br>
                                - 购票流程是什么？
                            </div>
                        </div>
                        <div class="admin-form-row">
                            <div class="form-group">
                                <label class="form-label">优先级</label>
                                <select class="form-select">
                                    <option value="high">高</option>
                                    <option value="medium" selected>中</option>
                                    <option value="low">低</option>
                                </select>
                                <div class="text-small text-muted" style="margin-top: 4px;">当多个知识匹配时，优先级高的优先展示</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">排序权重</label>
                                <input type="number" class="form-input" placeholder="数字越大排序越靠前" value="0" min="0">
                            </div>
                        </div>
                    </div>

                    <!-- 状态设置 -->
                    <div class="admin-form-section">
                        <div class="admin-form-section-title">状态设置</div>
                        <div class="form-group">
                            <label class="form-label">启用状态</label>
                            <div style="padding: 8px 0;">
                                <label style="margin-right: 24px; cursor: pointer;">
                                    <input type="radio" name="status" value="enabled" checked> 立即启用
                                </label>
                                <label style="cursor: pointer;">
                                    <input type="radio" name="status" value="disabled"> 暂不启用
                                </label>
                            </div>
                        </div>
                        <div class="admin-form-row">
                            <div class="form-group">
                                <label class="form-label">生效时间</label>
                                <input type="datetime-local" class="form-input">
                                <div class="text-small text-muted" style="margin-top: 4px;">留空则立即生效</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">失效时间</label>
                                <input type="datetime-local" class="form-input">
                                <div class="text-small text-muted" style="margin-top: 4px;">留空则永久有效</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">备注</label>
                            <textarea class="form-textarea" placeholder="内部备注信息，不会展示给用户" rows="2"></textarea>
                        </div>
                    </div>

                    <!-- 预览 -->
                    <div class="admin-form-section">
                        <div class="admin-form-section-title">预览</div>
                        <div style="border: 1px solid #ddd; border-radius: 8px; padding: 20px; background: #f9f9f9;">
                            <div style="background: white; border-radius: 8px; padding: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
                                <div class="flex" style="gap: 12px; margin-bottom: 12px;">
                                    <div style="width: 40px; height: 40px; border-radius: 50%; background: #1976d2; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px;">🤖</div>
                                    <div style="flex: 1;">
                                        <div style="font-weight: 600; margin-bottom: 4px;">AI助手</div>
                                        <div style="background: #f5f5f5; padding: 12px; border-radius: 8px; font-size: 14px; line-height: 1.6;">
                                            您好！关于您的问题，这里是简短答案预览...
                                        </div>
                                    </div>
                                </div>
                                <div style="text-center; margin: 12px 0;">
                                    <button class="btn btn-secondary btn-small" style="padding: 4px 16px;">查看更多</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 表单操作按钮 -->
                    <div class="admin-form-actions">
                        <button type="button" class="btn btn-secondary">保存草稿</button>
                        <button type="button" class="btn btn-secondary">测试匹配</button>
                        <button type="submit" class="btn btn-primary">发布知识</button>
                    </div>
                </form>
            </div>
        </main>
    </div>
<script src="assets/js/auth-check.js"></script>
</body>
</html>
